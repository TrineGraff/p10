y = data$UNRATE[1:idx]
parm = function(x) {
(sum(x != 0))
}
set.seed(1)
citation("glmnet")
'print(<glmnet>, bibtex=TRUE)'
g = citation("glmnet")
print(<g>, bibtex=TRUE)
print(g, bibtex=TRUE)
gl = citation("gglasso")
print(gl, bibtex=TRUE)
# lasso -------------------------------------------------------------------
lasso_fit = glmnet(x, y, family = "gaussian", alpha = 1, intercept = FALSE)
lasso_cv = cv.glmnet(x, y, intercept = FALSE, family = "gaussian", alpha = 1)
set.seed(1)
# lasso -------------------------------------------------------------------
lasso_fit = glmnet(x, y, family = "gaussian", alpha = 1, intercept = FALSE)
lasso_cv = cv.glmnet(x, y, intercept = FALSE, family = "gaussian", alpha = 1)
plot(lasso_cv)
plot(lasso_cv, tittle = "Lasso")
plot(lasso_cv, main = "Lasso")
?plot.cv.glmnet
plot(lasso_cv, sign.lambda = +1)
?plot.cv.glmnet
plot(lasso_cv, sign.lambda = +1)
title("lasso")
?plot.cv.glmnet
plot(lasso_cv, title("lasso"))
plot(lasso_cv)
library(ggplot2)
source("setup_data.R")
drops = c("UNRATE")
x = data_train[ , !(colnames(data_train) %in% drops)]
y = data$UNRATE[1:idx]
parm = function(x) {
(sum(x != 0))
}
set.seed(1)
# lasso -------------------------------------------------------------------
lasso_fit = glmnet(x, y, family = "gaussian", alpha = 1, intercept = FALSE)
lasso_cv = cv.glmnet(x, y, intercept = FALSE, family = "gaussian", alpha = 1)
plot(lasso_cv)
ggplot(lasso_cv, aes(lasso_cv$lambda, lasso_cv$cvm))
qplot(lasso_cv, aes(lasso_cv$lambda, lasso_cv$cvm))
ggplot(lasso_cv, aes(lasso_cv$lambda, lasso_cv$cvm))
ggplot(lasso_cv$lambda, lasso_cv$cvm)
ggplot(lasso_cv$lambda, lasso_cv$cvm, aes())
ggplot(lasso_cv$lambda, lasso_cv$cvm, aes(lasso_cv$lambda, lasso_cv$cvm))
getAnywhere(cv.glmnet)
getAnywhere(plo.cv.glmnet)
getAnywhere(plot.cv.glmnet)
qplot(lasso_cv$lambda, lasso_cv$cvm, aes(lasso_cv$lambda, lasso_cv$cvm))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, aes(log(lasso_cv$lambda), lasso_cv$cvm))
lasso_cv$lambda
lasso_cv$cvm
length(lasso_cv$lambda)
length(lasso_cv$cvm)
qplot(log(lasso_cv$lambda), lasso_cv$cvm)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = red)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", labels = F)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", legend = F)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red") + legend(FALSE)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red") + legend = FALSE
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red") + legend(legend = FALSE)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = lasso)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "lasso")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") + geom_line(aes(log(lasso_cv$lambda), lasso_cv$cvm))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab()
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab(x = "log(lambda)")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab(x = log(lambda))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = log(lambda))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = "log(lambda)")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = "expression(log(lambda))")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab(x = log(lambda))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab(log(lambda))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
xlab(label = hej)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = log(lambda))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)))
plot(lasso_cv)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = MSE )
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" )
# plot --------------------------------------------------------------------
getAnywhere(plot.cv.glmnet) #se plot kode
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, position=pd) +
getAnywhere(plot.cv.glmnet)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1) +
getAnywhere(plot.cv.glmnet)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "black")
plot(lasso_cv)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") + geom_point(log(lasso_cv$lambda), lasso_cv$cvm)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm))
qplot() +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), color = "red")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm))
plot(lasso_cv)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
guides(fill=FALSE)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
theme(legend.position="none")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
theme(legend.position="none") +
geom_vline(xintercept= lasso_cv$lambda.min)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
theme(legend.position="none") +
)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = expression(log(lambda_min))) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", colour = expression(log(lambda_min))) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", colour = "min") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), colour = "min") linetype="dotted") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", colour = "sd")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "green")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue", show.legend = T) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue", show.legend = T) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue", show.legend = "h") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue", colour= blue ) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, color = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue", colour = "blue" ) +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(xintercept= log(lasso_cv$lambda.1se), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se)), linetype="dotted", col = "brown", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(xintercept= log(lasso_cv$lambda.min), linetype="dotted", col = "blue") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brwon"), linetype="dotted", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted", col = "blue") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted", show.legend = T)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted", col = "blue") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted", show.legend = T, col = "brown")
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted", col = "blue") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted")
getAnywhere(plot.cv.glmnet)
lasso_cv$nzero
cv.glmnet
?cv.glmnet
getAnywhere(plot.cv.glmnet)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted") +
scale_y_continuous(sec.axis = lasso_cv$nzero)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted") +
scale_y_continuous(sec.axis = sec_axis(lasso_cv$nzero))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted") +
scale_y_continuous(sec.axis = sec_axis(1 * lasso_cv$nzero))
getAnywhere(plot.cv.glmnet)
qplot() + geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm))
qplot(main = "Lasso") + geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm))
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red") +
labs(x = expression(log(lambda)), y = "MSE" )
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
getAnywhere(plot.cv.glmnet)
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
lasso_cv$cvm + lasso_cv$cvsd
lasso_cv$cvm - lasso_cv$cvsd
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar((ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), col = "red") +
geom_errorbar((ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm), colour = "red") +
geom_errorbar((ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
geom_errorbar((ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
geom_errorbar(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd, width=.1, color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
geom_errorbar(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd,color = "grey")
qplot(main = "Lasso") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
geom_errorbar(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd)
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted") +
scale_y_continuous(sec.axis = sec_axis(1 * lasso_cv$nzero))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted")
plot(lasso_cv)
lasso_cv$nzero
# lasso -------------------------------------------------------------------
lasso_fit = glmnet(x, y, family = "gaussian", alpha = 1, intercept = FALSE)
lasso_cv = cv.glmnet(x, y, intercept = FALSE, family = "gaussian", alpha = 1)
data.frame(
lambda = c("min", "1se"),
lambda_val = c(lasso_cv$lambda.min, lasso_cv$lambda.1se),
error = with(lasso_cv, c(cvm[which(lambda == lasso_cv$lambda.min)], cvm[which(lambda == lasso_cv$lambda.1se)])),
p = apply(coef(lasso_fit, s = c(lasso_cv$lambda.min, lasso_cv$lambda.1se)), 2, parm)
)
b_hat = coef(lasso_fit, s = lasso_cv$lambda.1se)
idx_hat = which(b_hat != 0)
b_hat[idx_hat, ]
coef(lasso_cv)
# lasso -------------------------------------------------------------------
lasso_fit = glmnet(x, y, family = "gaussian", alpha = 1, intercept = FALSE)
lasso_fit
df = data.frame(lasso_cv$lambda, lasso_cv$cvm, lasso_cv$cvsd)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm))
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd), width = .1)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar((ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd), width = .1)
?geom_errorbar
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(df, (ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd), width = .1)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(df, aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd), width = .1)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd), width = 0.2)
df = data.frame(lasso_cv$lambda, lasso_cv$cvm, lasso_cv$cvsd, min = df$lasso_cv.cvm + df$lasso_cv.cvsd, max = df$lasso_cv.cvm - df$lasso_cv.cvsd)
df
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(df, aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2)
ggplot(df) +
geom_errorbar(aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot() +
geom_errorbar(df, aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot() +
geom_errorbar(df, aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2)
ggplot() +
geom_errorbar(df, aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot() +
geom_errorbar(df, aes(ymin = df$min, ymax = df$max - df$lasso_cv.cvsd), width = 0.2) +
geom_point(df, aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot() +
geom_errorbar(df, aes(ymin = min, ymax = max ), width = 0.2) +
geom_point(df, aes(log(lasso_cv.lambda), lasso_cv.cvm), col = "red")
ggplot() +
geom_point(df, aes(log(lasso_cv.lambda), lasso_cv.cvm), col = "red")
ggplot() +
geom_point(df, aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red")
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = min, ymax = max), width = 0.2) +
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = min, ymax = max), width = 0.2) +
)
ggplot(df) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = min, ymax = max), width = 0.2)
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = min, ymax = max), width = 0.2)
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point(aes(log(df$lasso_cv.lambda), df$lasso_cv.cvm), col = "red") +
geom_errorbar(aes(ymin = df$min, ymax = df$max), width = 0.2)
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbar(aes(ymin = df$min, ymax = df$max), width = 0.2)
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbar(aes(ymin = df$min, ymax = df$max), width = .1)
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd, width = .1))
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd, width = .1))
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbarh(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd, width = .1))
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_point() +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd, width = .1))
ggplot(df, aes(df$lasso_cv.lambda,df$lasso_cv.cvm )) +
geom_errorbar(aes(ymin = df$lasso_cv.cvm + df$lasso_cv.cvsd, ymax = df$lasso_cv.cvm - df$lasso_cv.cvsd, width = .1))
qplot(log(lasso_cv$lambda), lasso_cv$cvm, col = "red", main = "Lasso") +
labs(x = expression(log(lambda)), y = "MSE" ) +
geom_errorbar(aes(ymin=lasso_cv$cvm + lasso_cv$cvsd, ymax= lasso_cv$cvm - lasso_cv$cvsd ), width=.1, color = "grey") +
geom_point(aes(log(lasso_cv$lambda), lasso_cv$cvm)) +
# theme(legend.position="none") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.min), col = "blue"), linetype="dotted") +
geom_vline(aes(xintercept= log(lasso_cv$lambda.1se), col = "brown"), linetype="dotted")

\section{Konsistens af lasso estimatoren}
I dette afsnit ser vi nærmere på lasso estimatorens asymptotiske egenskaber.

For en estimator som udfører variabeludvælgelse, findes nogle såkaldte \textit{oracle egenskaber}.
En estimator som opfylder disse egenskaber, udvælger de sande kieffcienter!?! og de estimerede koefficienter følger asymptotisk en normal fordelingen.
Nedenfor defineres oracle egenskaberne.
 
Lad $\mathcal{A} =\{j:\beta_j^* \neq 0\}$, hvor $\beta_j^*$ betegner koefficienten af $x_j$ i den sande model og antag at $\vert \mathcal{A} \vert=p_0 <p$. Så defineres orakelegenskaberne som følgende. 
\begin{defn}[Orakelegenskaber]
\begin{itemize}
\item Variabeludvælgelsen er konsistent, dvs for
\begin{align*}
\mathcal{A}_n=\lbrace j :\hat{\beta}_j \neq 0 \rbrace \ \text{og} \ \mathcal{A} =\{j:\beta_j^* \neq 0\},
\end{align*}
gælder der, at $\lim_{n \rightarrow \infty }P(\mathcal{A}_n=\mathcal{A})=1$.
\item Estimatoren er asymptotisk normalfordelt, dvs
\begin{align*}
\sqrt{n}(\hat{\boldsymbol{\beta}}_\mathcal{A}-\boldsymbol{\beta}^*_\mathcal{A}) \overset{d}{\rightarrow} N(\mathbf{0}, \boldsymbol{\Sigma}^*_I),
\end{align*}
hvor $\boldsymbol{\beta}^*_\mathcal{A}=\{ \beta_j^*, j \in \mathcal{A} \}$ og $\boldsymbol{\Sigma}^*_I$ er kovariansmatricen, hvor vi antager, at vi kender den sande model.
\end{itemize}
\end{defn}

%I cite(Zou) vises det at udvælgelsen af variable ved hjælp af lasso ikke er konsistent i alle tilfælde. Lasso kan dermed ikke være en orakel procedure.
%
Lad  
\begin{align*}
\textbf{C} = 
\begin{bmatrix}
\textbf{C}_{11}& \textbf{C}_{12}\\
\textbf{C}_{21}& \textbf{C}_{22}
\end{bmatrix},
\end{align*}
være en positiv definit matrix, hvor $\textbf{C}_{11}$ er en $p_0 \times p_0$ matrix. Så kan det udledes af proposition \ref{prop:lasso_no_vs}, at lasso ikke er konsistent i variabel udvælgelse i alle tilfælde og dermed ikke opfylder orakelegenskaberne.

\begin{prop}\label{prop:lasso_no_vs}
Hvis $\frac{\lambda_n}{\sqrt{n}} \rightarrow \lambda_0 \geq 0$, da vil $\hat{\boldsymbol{\beta}}^\text{lasso} \overset{p}{\rightarrow} \arg \min Z$, hvor
\begin{align*}
Z(\mathbf{u})=(\mathbf{u}- \boldsymbol{\beta}^*)^T \mathbf{C} (\mathbf{u}-\boldsymbol{\beta}^*)+\lambda_0 \sum_{j=1}^p \vert u_j \vert.
\end{align*}
\end{prop}
\begin{proof}
Beviset undlades, men der henvises til s. 1358 i \citep{adaptive_lasso_knight}.
\end{proof}
Hvis $\lambda_0=0$, da gælder ifølge proposition \ref{prop:lasso_no_vs}, at $\hat{\boldsymbol{\beta}}^\text{lasso} \overset{p}{\rightarrow} \hat{\boldsymbol{\beta}}^{*}$, da strafleddet forsvinder og $\mathbf{C}$ er en positiv definit matrix, og dermed er $\hat{\boldsymbol{\beta}}^\text{lasso}$ svagt konsistent. Men da strafleddet forsvinder, medfører det også, at lasso asymptotisk ingen variabeludvælgelse har. Hvis $\lambda_0>0$ kan det ikke udledes fra proposition \ref{prop:lasso_no_vs}, om estimatoren er konsistent. Det angives i \citep{adaptive_lasso}, at dette kun vil være tilfældet, når en given betingelse er opfyldt. En metode, der konsekvent udfører konsistent variabeludvælgelse, kan dog opnås med en simpel tilføjelse til lasso estimatet. Denne metode kaldes adaptive lasso.
